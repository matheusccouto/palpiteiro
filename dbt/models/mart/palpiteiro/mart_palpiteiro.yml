version: 2

models:
  - name: fct_player
    description: Players data for each round
    columns:
      - name: player
        description: Player ID
        tests:
          - not_null
      - name: name
        description: Player name
        tests:
          - not_null
      - name: round
        description: League round
        tests:
          - not_null
      - name: season
        description: League season
        tests:
          - not_null
      - name: all_time_round
        description: All time round starting in the 2017 season
        tests:
          - not_null
      - name: timestamp
        description: UTC date
        tests:
          - not_null
      - name: valid
        description: Is valid for this Cartola round
        tests:
          - accepted_values:
              values: [true, false]
              quote: false
      - name: club
        description: Club
        tests:
          - not_null
      - name: opponent
        description: Opponent
        tests:
          - not_null
      - name: home
        description: Home
        tests:
          - not_null
          - accepted_values:
              values: [true, false]
              quote: false
      - name: position
        description: Position
        tests:
          - not_null
          - accepted_values:
              values:
                - goalkeeper
                - fullback
                - defender
                - midfielder
                - forward
                - coach
      - name: status
        description: Status for the match
        tests:
          - not_null
          - accepted_values:
              values:
                - doubt
                - suspended
                - injured
                - "null"
                - expected
      - name: total_points
        description: Points scored the player in the match using most recent rules.
        tests:
          - not_null
      - name: offensive_points
        description: Offensive points scored the player in the match using most recent rules.
        tests:
          - not_null
      - name: defensive_points
        description: Defensive points scored the player in the match using most recent rules.
        tests:
          - not_null
      - name: offensive_repr
        description: Ratio of club offensive points which the player is responsible for.
      - name: defensive_repr
        description: Ratio of club defensive points which the player is responsible for.
      - name: total_repr
        description: Ratio of club total points which the player is responsible for.
      - name: price
        description: Price
        tests:
          - not_null
      - name: price_before
        description: Price before the match
      - name: matches
        description: Amount of matches that the player participated in this round
        tests:
          - not_null
      - name: spi_club
        description: Club soccer power index
        tests:
          - not_null
      - name: spi_opponent
        description: Opponent soccer power index
        tests:
          - not_null
      - name: prob_club
        description: Club win probability
        tests:
          - not_null
      - name: prob_opponent
        description: Opponent win probability
        tests:
          - not_null
      - name: prob_tie
        description: Tie probability
        tests:
          - not_null
      - name: importance_club
        description: Club match importance
        tests:
          - not_null
      - name: importance_opponent
        description: Opponent match importance
        tests:
          - not_null
      - name: proj_score_club
        description: Club projected score
        tests:
          - not_null
      - name: proj_score_opponent
        description: Opponent projected score
        tests:
          - not_null
      - name: score_club
        description: Club score
      - name: score_opponent
        description: Opponent score
      - name: adj_score_club
        description: Club adjusted score
      - name: adj_score_opponent
        description: Opponent adjusted score
      - name: xg_club
        description: Club shot-based expected goals
      - name: xg_opponent
        description: Opponent shot-based expected goals
      - name: nsxg_club
        description: Club non-shot expected goals
      - name: nsxg_opponent
        description: Opponent non-shot expected goals
      - name: goal
        description: Goals in this round
        tests:
          - not_null
          - not_negative
      - name: assist
        description: Assists in this round
        tests:
          - not_null
          - not_negative
      - name: yellow_card
        description: Yellow cards in this round
        tests:
          - not_null
          - not_negative
      - name: red_card
        description: Red cards in this round
        tests:
          - not_null
          - not_negative
      - name: missed_shoot
        description: Missed shoots in this round
        tests:
          - not_null
          - not_negative
      - name: on_post_shoot
        description: On post shoots in this round
        tests:
          - not_null
          - not_negative
      - name: saved_shoot
        description: Saved shoots in this round
        tests:
          - not_null
          - not_negative
      - name: received_foul
        description: Received fouls in this round
        tests:
          - not_null
          - not_negative
      - name: received_penalty
        description: Received fouls in this round
        tests:
          - not_null
          - not_negative
      - name: missed_penalty
        description: Missed penalty kick in this round
        tests:
          - not_null
          - not_negative
      - name: outside
        description: Outsides in this round in this round
        tests:
          - not_null
          - not_negative
      - name: missed_pass
        description: Missed passes in this round
        tests:
          - not_null
          - not_negative
      - name: tackle
        description: Successful tackles in this round
        tests:
          - not_null
          - not_negative
      - name: foul
        description: Committed fouls in this round
        tests:
          - not_null
          - not_negative
      - name: penalty
        description: Committed penalty in this round
        tests:
          - not_null
          - not_negative
      - name: own_goal
        description: Own goals in this round
        tests:
          - not_null
          - not_negative
      - name: allowed_goal
        description: Allowed goals in this round
        tests:
          - not_null
          - not_negative
      - name: no_goal
        description: Games without goals in this round
        tests:
          - not_null
          - not_negative
      - name: save
        description: Saves in this round
        tests:
          - not_null
          - not_negative
      - name: difficult_save
        description: Difficult saves in this round
        tests:
          - not_null
          - not_negative
      - name: penalty_save
        description: Penalty save in this round
        tests:
          - not_null
          - not_negative